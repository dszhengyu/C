ASSUME CS:CODE

DATA SEGMENT
	DB 'WELCOME TO MASM!', 0
DATA ENDS

STACK SEGMENT
	DW 8 DUP (0)
STACK ENDS

CODE SEGMENT
START:
	MOV DH, 8
	MOV DL, 3
	MOV CL, 2
	MOV AX, DATA
	MOV DS, AX
	MOV AX, STACK
	MOV SS, AX
	MOV SP, 16
	MOV SI, 0
	CALL SHOW_STR
	
	MOV AX, 04C00H
	INT 21H
	
SHOW_STR:
	PUSH AX
	PUSH CX
	PUSH BX
	MOV BL, CL
	MOV AX, 0B800H
	MOV ES, AX
	MOV AX, 160
	MUL DH
	MOV DI, AX
	MOV AX, 2
	MUL DL
	ADD DI, AX
S:
	MOV CL, DS:[SI]
	JCXZ OK
	MOV ES:[DI], CL
	INC DI
	MOV ES:[DI], BL
	INC DI
	INC SI
	JMP S
OK:
	POP CX
	POP BX
	POP AX
	RET
CODE ENDS

END START
